# 7ALA / ELECTRAMCO Reservation Website

Neon-green, poster-style reservation flow inspired by the provided ELECTRAMCO artwork and the reference booking vibe.

## Ticket Prices
- Standing: **EGP 1,500**
- Group Package: **EGP 5,000**
- VIP Table: **EGP 5,000 (SOLD OUT)**

## Features
- Poster-like landing layout and color theme matching the artwork style.
- Reservation form with entry policy filtering (21+, couples/mixed groups only).
- Payment methods:
  - Instapay: `01155650877`
  - Wallet transfer: `01020840820`
- Backend-enforced ticket pricing by type.
- VIP ticket selection blocked as sold out.
- Single-use organizer QR scan lock (cannot scan twice).
- Supabase reservation persistence + scan state tracking.
- QR ticket sent by email via SMTP after reservation.

## Setup
1. Install dependencies:
   ```bash
   npm install
   ```
2. Copy `.env.example` to `.env`.
3. Set your Gmail App Password in `SMTP_PASS`.
4. Create/update Supabase table:
   ```sql
   create table if not exists reservations (
     id bigint generated by default as identity primary key,
     reservation_id text unique not null,
     ticket_code text unique not null,
     full_name text not null,
     email text not null,
     phone text not null,
     guests int not null,
     group_type text not null,
     ticket_type text,
     payment_method text not null,
     payment_reference text not null,
     payment_amount numeric,
     qr_code_data_url text,
     qr_payload jsonb,
     status text default 'paid_pending_review',
     scan_count int default 0,
     scanned_at timestamptz,
     created_at timestamptz default now()
   );

   alter table reservations add column if not exists ticket_type text;
   alter table reservations add column if not exists qr_payload jsonb;
   alter table reservations add column if not exists scan_count int default 0;
   alter table reservations add column if not exists scanned_at timestamptz;
   ```
5. Run:
   ```bash
   npm run dev
   ```

## Gmail SMTP Notes
- For `kareemdiyaaa2007@gmail.com`, enable 2-Step Verification.
- Generate a **Google App Password** and place it in `SMTP_PASS`.
- Regular Gmail password will not work for Nodemailer SMTP.
